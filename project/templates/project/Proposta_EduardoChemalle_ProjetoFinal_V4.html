

{% load staticfiles %}

<script src="{% static "images/startup-1.jpg" %}" charset="utf-8"></script>

<img src="{% static "images/udacity.jpg" %}" height="100" width="100">

<nav class="navbar navbar-default techfont custom-navbar">
<div class="container">


<ul class="nav navbar-nav">
  <li><a class='navbar-brand bigbrand' href="{% url 'home' %}">Home</a></li>


</ul>

</nav>

<div class="d-none d-md-block text-uppercase">
    <ul class="navbar-nav">
      <li class="nav-item px-1 ">
        <td><select name="forma" onchange="location = this.value;">
          <option value="">Prever compra de ações</option>
         <option value="{% url 'udacity' %}">Escolha seu ativo</option>
         <option value="{% url 'udacity2' %}">Minha carteira esta diversificada?</option>
         <option value="#">Analise a negociacao do seu ativo</option>
        </select></td>

      </li>
    </ul>
  </div>
</nav>
</div>

<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">.lst-kix_91d2uts77qrr-1>li{counter-increment:lst-ctn-kix_91d2uts77qrr-1}ol.lst-kix_4m4ersfy7h1k-1.start{counter-reset:lst-ctn-kix_4m4ersfy7h1k-1 0}.lst-kix_91d2uts77qrr-7>li:before{content:"" counter(lst-ctn-kix_91d2uts77qrr-7,lower-latin) ". "}.lst-kix_4m4ersfy7h1k-3>li{counter-increment:lst-ctn-kix_4m4ersfy7h1k-3}ul.lst-kix_gtx7ktx8b1np-1{list-style-type:none}ul.lst-kix_gtx7ktx8b1np-2{list-style-type:none}.lst-kix_91d2uts77qrr-4>li:before{content:"(" counter(lst-ctn-kix_91d2uts77qrr-4,lower-latin) ") "}.lst-kix_91d2uts77qrr-8>li:before{content:"" counter(lst-ctn-kix_91d2uts77qrr-8,lower-roman) ". "}ul.lst-kix_gtx7ktx8b1np-0{list-style-type:none}ul.lst-kix_gtx7ktx8b1np-5{list-style-type:none}ul.lst-kix_gtx7ktx8b1np-6{list-style-type:none}ol.lst-kix_91d2uts77qrr-3.start{counter-reset:lst-ctn-kix_91d2uts77qrr-3 0}ul.lst-kix_gtx7ktx8b1np-3{list-style-type:none}.lst-kix_91d2uts77qrr-5>li:before{content:"(" counter(lst-ctn-kix_91d2uts77qrr-5,lower-roman) ") "}ul.lst-kix_gtx7ktx8b1np-4{list-style-type:none}ul.lst-kix_gtx7ktx8b1np-7{list-style-type:none}.lst-kix_91d2uts77qrr-6>li:before{content:"" counter(lst-ctn-kix_91d2uts77qrr-6,decimal) ". "}ul.lst-kix_gtx7ktx8b1np-8{list-style-type:none}.lst-kix_91d2uts77qrr-1>li:before{content:"" counter(lst-ctn-kix_91d2uts77qrr-1,lower-latin) ") "}.lst-kix_91d2uts77qrr-0>li:before{content:"" counter(lst-ctn-kix_91d2uts77qrr-0,decimal) ") "}ol.lst-kix_91d2uts77qrr-6.start{counter-reset:lst-ctn-kix_91d2uts77qrr-6 0}.lst-kix_4m4ersfy7h1k-2>li{counter-increment:lst-ctn-kix_4m4ersfy7h1k-2}.lst-kix_91d2uts77qrr-3>li:before{content:"(" counter(lst-ctn-kix_91d2uts77qrr-3,decimal) ") "}ol.lst-kix_4m4ersfy7h1k-4.start{counter-reset:lst-ctn-kix_4m4ersfy7h1k-4 0}.lst-kix_91d2uts77qrr-2>li{counter-increment:lst-ctn-kix_91d2uts77qrr-2}.lst-kix_91d2uts77qrr-2>li:before{content:"" counter(lst-ctn-kix_91d2uts77qrr-2,lower-roman) ") "}ol.lst-kix_4m4ersfy7h1k-7.start{counter-reset:lst-ctn-kix_4m4ersfy7h1k-7 0}.lst-kix_4m4ersfy7h1k-1>li{counter-increment:lst-ctn-kix_4m4ersfy7h1k-1}.lst-kix_4m4ersfy7h1k-4>li{counter-increment:lst-ctn-kix_4m4ersfy7h1k-4}ol.lst-kix_91d2uts77qrr-0.start{counter-reset:lst-ctn-kix_91d2uts77qrr-0 0}.lst-kix_4m4ersfy7h1k-6>li{counter-increment:lst-ctn-kix_4m4ersfy7h1k-6}.lst-kix_91d2uts77qrr-4>li{counter-increment:lst-ctn-kix_91d2uts77qrr-4}ol.lst-kix_4m4ersfy7h1k-6.start{counter-reset:lst-ctn-kix_4m4ersfy7h1k-6 0}.lst-kix_3ni4p1ve9iai-1>li:before{content:"\0025cb  "}.lst-kix_3ni4p1ve9iai-0>li:before{content:"\0025cf  "}.lst-kix_91d2uts77qrr-5>li{counter-increment:lst-ctn-kix_91d2uts77qrr-5}.lst-kix_91d2uts77qrr-8>li{counter-increment:lst-ctn-kix_91d2uts77qrr-8}.lst-kix_3ni4p1ve9iai-2>li:before{content:"\0025a0  "}.lst-kix_3ni4p1ve9iai-3>li:before{content:"\0025cf  "}.lst-kix_3ni4p1ve9iai-4>li:before{content:"\0025cb  "}ol.lst-kix_91d2uts77qrr-5.start{counter-reset:lst-ctn-kix_91d2uts77qrr-5 0}.lst-kix_3ni4p1ve9iai-5>li:before{content:"\0025a0  "}ol.lst-kix_4m4ersfy7h1k-5.start{counter-reset:lst-ctn-kix_4m4ersfy7h1k-5 0}.lst-kix_3ni4p1ve9iai-8>li:before{content:"\0025a0  "}.lst-kix_4m4ersfy7h1k-0>li{counter-increment:lst-ctn-kix_4m4ersfy7h1k-0}.lst-kix_3ni4p1ve9iai-6>li:before{content:"\0025cf  "}.lst-kix_3ni4p1ve9iai-7>li:before{content:"\0025cb  "}ol.lst-kix_91d2uts77qrr-1{list-style-type:none}ol.lst-kix_4m4ersfy7h1k-8.start{counter-reset:lst-ctn-kix_4m4ersfy7h1k-8 0}ol.lst-kix_91d2uts77qrr-0{list-style-type:none}ol.lst-kix_91d2uts77qrr-3{list-style-type:none}ol.lst-kix_91d2uts77qrr-2{list-style-type:none}.lst-kix_gtx7ktx8b1np-1>li:before{content:"\0025cb  "}.lst-kix_gtx7ktx8b1np-3>li:before{content:"\0025cf  "}.lst-kix_gtx7ktx8b1np-0>li:before{content:"\0025cf  "}.lst-kix_gtx7ktx8b1np-4>li:before{content:"\0025cb  "}.lst-kix_gtx7ktx8b1np-2>li:before{content:"\0025a0  "}.lst-kix_4m4ersfy7h1k-8>li{counter-increment:lst-ctn-kix_4m4ersfy7h1k-8}ol.lst-kix_91d2uts77qrr-7.start{counter-reset:lst-ctn-kix_91d2uts77qrr-7 0}ol.lst-kix_91d2uts77qrr-4.start{counter-reset:lst-ctn-kix_91d2uts77qrr-4 0}ul.lst-kix_3ni4p1ve9iai-0{list-style-type:none}ul.lst-kix_3ni4p1ve9iai-2{list-style-type:none}ul.lst-kix_3ni4p1ve9iai-1{list-style-type:none}ul.lst-kix_3ni4p1ve9iai-4{list-style-type:none}ul.lst-kix_3ni4p1ve9iai-3{list-style-type:none}ul.lst-kix_3ni4p1ve9iai-6{list-style-type:none}ul.lst-kix_3ni4p1ve9iai-5{list-style-type:none}ul.lst-kix_3ni4p1ve9iai-8{list-style-type:none}.lst-kix_4m4ersfy7h1k-7>li{counter-increment:lst-ctn-kix_4m4ersfy7h1k-7}.lst-kix_gtx7ktx8b1np-8>li:before{content:"\0025a0  "}ul.lst-kix_3ni4p1ve9iai-7{list-style-type:none}ol.lst-kix_4m4ersfy7h1k-3.start{counter-reset:lst-ctn-kix_4m4ersfy7h1k-3 0}ol.lst-kix_91d2uts77qrr-8{list-style-type:none}ol.lst-kix_4m4ersfy7h1k-0.start{counter-reset:lst-ctn-kix_4m4ersfy7h1k-0 0}.lst-kix_gtx7ktx8b1np-5>li:before{content:"\0025a0  "}.lst-kix_gtx7ktx8b1np-7>li:before{content:"\0025cb  "}ol.lst-kix_91d2uts77qrr-5{list-style-type:none}ol.lst-kix_91d2uts77qrr-4{list-style-type:none}.lst-kix_91d2uts77qrr-7>li{counter-increment:lst-ctn-kix_91d2uts77qrr-7}ol.lst-kix_91d2uts77qrr-7{list-style-type:none}ol.lst-kix_91d2uts77qrr-6{list-style-type:none}.lst-kix_gtx7ktx8b1np-6>li:before{content:"\0025cf  "}.lst-kix_4m4ersfy7h1k-1>li:before{content:"" counter(lst-ctn-kix_4m4ersfy7h1k-1,lower-latin) ") "}ol.lst-kix_91d2uts77qrr-8.start{counter-reset:lst-ctn-kix_91d2uts77qrr-8 0}.lst-kix_4m4ersfy7h1k-2>li:before{content:"" counter(lst-ctn-kix_4m4ersfy7h1k-2,lower-roman) ") "}.lst-kix_4m4ersfy7h1k-7>li:before{content:"" counter(lst-ctn-kix_4m4ersfy7h1k-7,lower-latin) ". "}.lst-kix_4m4ersfy7h1k-0>li:before{content:"" counter(lst-ctn-kix_4m4ersfy7h1k-0,decimal) ") "}.lst-kix_4m4ersfy7h1k-8>li:before{content:"" counter(lst-ctn-kix_4m4ersfy7h1k-8,lower-roman) ". "}.lst-kix_4m4ersfy7h1k-5>li{counter-increment:lst-ctn-kix_4m4ersfy7h1k-5}ol.lst-kix_91d2uts77qrr-1.start{counter-reset:lst-ctn-kix_91d2uts77qrr-1 0}ol.lst-kix_91d2uts77qrr-2.start{counter-reset:lst-ctn-kix_91d2uts77qrr-2 0}ol.lst-kix_4m4ersfy7h1k-2.start{counter-reset:lst-ctn-kix_4m4ersfy7h1k-2 0}ol.lst-kix_4m4ersfy7h1k-7{list-style-type:none}ol.lst-kix_4m4ersfy7h1k-6{list-style-type:none}ol.lst-kix_4m4ersfy7h1k-8{list-style-type:none}ol.lst-kix_4m4ersfy7h1k-3{list-style-type:none}ol.lst-kix_4m4ersfy7h1k-2{list-style-type:none}ol.lst-kix_4m4ersfy7h1k-5{list-style-type:none}ol.lst-kix_4m4ersfy7h1k-4{list-style-type:none}.lst-kix_91d2uts77qrr-3>li{counter-increment:lst-ctn-kix_91d2uts77qrr-3}.lst-kix_91d2uts77qrr-6>li{counter-increment:lst-ctn-kix_91d2uts77qrr-6}ol.lst-kix_4m4ersfy7h1k-1{list-style-type:none}ol.lst-kix_4m4ersfy7h1k-0{list-style-type:none}.lst-kix_4m4ersfy7h1k-6>li:before{content:"" counter(lst-ctn-kix_4m4ersfy7h1k-6,decimal) ". "}.lst-kix_91d2uts77qrr-0>li{counter-increment:lst-ctn-kix_91d2uts77qrr-0}.lst-kix_4m4ersfy7h1k-5>li:before{content:"(" counter(lst-ctn-kix_4m4ersfy7h1k-5,lower-roman) ") "}.lst-kix_4m4ersfy7h1k-3>li:before{content:"(" counter(lst-ctn-kix_4m4ersfy7h1k-3,decimal) ") "}.lst-kix_4m4ersfy7h1k-4>li:before{content:"(" counter(lst-ctn-kix_4m4ersfy7h1k-4,lower-latin) ") "}ol{margin:0;padding:0}table td,table th{padding:0}.c0{background-color:#ffffff;color:#24292e;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:12pt;font-family:"Arial";font-style:normal}.c15{margin-left:36pt;padding-top:0pt;padding-left:0pt;padding-bottom:9pt;line-height:1.15;orphans:2;widows:2;text-align:justify}.c2{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:justify;height:11pt}.c3{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c11{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:justify}.c6{padding-top:0pt;padding-bottom:12pt;line-height:1.15;orphans:2;widows:2;text-align:justify}.c7{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c13{margin-left:-15pt;padding-top:18pt;padding-bottom:12pt;line-height:1.0;text-align:justify}.c12{padding-top:18pt;padding-bottom:12pt;line-height:1.25;text-align:justify}.c27{padding-top:24pt;padding-bottom:12pt;line-height:1.25;text-align:left}.c17{background-color:#ffffff;color:#24292e;font-weight:700;font-size:12pt}.c9{background-color:#ffffff;color:#000000;font-weight:700;font-size:9pt}.c23{padding-top:18pt;padding-bottom:12pt;line-height:1.25;text-align:left}.c1{background-color:#ffffff;font-size:16.5pt;color:#24292e;font-weight:700}.c16{background-color:#ffffff;color:#24292e;font-weight:700;font-size:17pt}.c26{text-decoration-skip-ink:none;-webkit-text-decoration-skip:none;color:#1155cc;text-decoration:underline}.c4{text-decoration:none;vertical-align:baseline;font-family:"Arial";font-style:normal}.c24{background-color:#ffffff;font-size:9pt;font-weight:700}.c21{background-color:#ffffff;max-width:451.4pt;padding:72pt 72pt 72pt 72pt}.c5{background-color:#ffffff;font-size:10.5pt;color:#58646d}.c28{color:#24292e;font-weight:700;font-size:17pt}.c22{color:#24292e;font-weight:700;font-size:23pt}.c29{background-color:#ffffff;font-size:12pt}.c20{padding:0;margin:0}.c18{margin-left:36pt;padding-left:0pt}.c25{color:inherit;text-decoration:inherit}.c30{color:#24292e}.c10{font-weight:400}.c14{height:14pt}.c8{height:11pt}.c19{text-indent:15pt}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c21"><h1 class="c27" id="h.pfgsuvirtrdn"><span class="c4 c22">Nanodegree Engenheiro de Machine Learning</span></h1><h2 class="c23" id="h.irb08h6deht4"><span class="c4 c28">Proposta de projeto final</span></h2><p class="c7"><span class="c0">Eduardo Alberto Chemalle</span></p><p class="c7"><span class="c0">17 de Mar&ccedil;o de 2018</span></p><p class="c7 c8"><span class="c0"></span></p><h2 class="c23" id="h.wrq7ueazw2v"><span class="c4 c16">Proposta</span></h2><h3 class="c23" id="h.8us13jvzg581"><span class="c1 c4">Hist&oacute;rico do assunto</span></h3><p class="c11"><span class="c29 c30">Iniciei em 2001, no auge da crise dos mercados com o atentado terrorista terr&iacute;vel contra as torres g&ecirc;meas, quando ainda era Diretor Financeiro de uma empresa americana no interior de S&atilde;o Paulo a explorar intensamente o mercado de a&ccedil;&otilde;es, buscando investimentos que pudessem me levar at&eacute; a aposentadoria. O Brasil sempre foi um pa&iacute;s onde as altas taxas de juros criaram um confort&aacute;vel colch&atilde;o de seguran&ccedil;a em torno de investimentos aumentando ainda mais a desigualdade de informa&ccedil;&atilde;o para que pessoas se sentissem pouco motivadas a entender e explorar outras op&ccedil;&otilde;es al&eacute;m das aplica&ccedil;&otilde;es convencionais em renda fixa que na &eacute;poca pagavam exorbitantes 30% a.a., algo incomum e fora de contexto em economias mais desenvolvidas e que hoje mal chegam a 7% a.a., embora ainda muito altas. Naquele cen&aacute;rio para que correr riscos se bastava deixar o dinheiro parado para receber um pr&ecirc;mio alt&iacute;ssimo? Com certeza iria mudar e mudou muito. Hoje mais de 15 anos depois e ap&oacute;s uma crise econ&ocirc;mica sem propor&ccedil;&otilde;es na hist&oacute;ria do pa&iacute;s nos vemos com um problema onde a receita dada no passado ja nao faz mais sentido,no entanto, as pessoas comuns continuam raciocinando a curto prazo como anteriormente e a falta de educa&ccedil;&atilde;o financeira nas escolas desenvolveu pessoas inaptas para lidar com o dinheiro de forma saud&aacute;vel. Com este contexto em m&atilde;os nos &uacute;ltimos 2 anos ampliei meus estudos em torno do tema e me deparei com Machine Learning para realizar investimentos em a&ccedil;&otilde;es. Tive inclusive a oportunidade de conversar com empresas americanas que trabalham com a tecnologia de forma bem sucedida e at&eacute; perguntei do interesse deles em vir para o Brasil. Aqui o site da empresa com a qual me relacionei que utiliza Artificial Intelligence para recomendar compra e venda de acoes </span><span class="c26 c29"><a class="c25" href="https://www.google.com/url?q=https://www.vantagepointsoftware.com&amp;sa=D&amp;ust=1523226483082000">https://www.vantagepointsoftware.com</a></span><span class="c0">&nbsp;. Embora fascinante a abordagem no tema senti falta de algo mais completo e que pudesse racionalizar os interesses e democratizar o investimento no Brasil. Por falar em Brasil eles nao tem interesse em vir para o Brasil exatamente pela irrelev&acirc;ncia do mercado de a&ccedil;&otilde;es brasileiro no contexto global. Entendo ser um erro crasso e por isso, minha proposta gira em torno deste tema. </span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><h3 class="c12" id="h.3rwlpw3bdtjy"><span class="c1 c4">Descri&ccedil;&atilde;o do problema</span></h3><p class="c11"><span class="c3">Para investir em bolsa temos 3 problemas principais:</span></p><p class="c2"><span class="c3"></span></p><p class="c2"><span class="c3"></span></p><ol class="c20 lst-kix_4m4ersfy7h1k-0 start" start="1"><li class="c11 c18"><span class="c3">Qual ativo investir</span></li><li class="c11 c18"><span class="c3">Qual o melhor momento para investir </span></li><li class="c11 c18"><span class="c3">Como diversificar </span></li></ol><p class="c2"><span class="c3"></span></p><p class="c2"><span class="c3"></span></p><p class="c11"><span class="c3">Para responder ao item 1 n&atilde;o precisamos de Machine Learning, apenas modelar os dados para entender seu comportamento hist&oacute;rico e um pouco de an&aacute;lise fundamentalista que tem mais a ver com finan&ccedil;as do que com matem&aacute;tica pura, embora obviamente haja correla&ccedil;&atilde;o entre as mat&eacute;rias.</span></p><p class="c2"><span class="c3"></span></p><p class="c11"><span class="c3">Qual o melhor momento para investir?</span></p><p class="c2"><span class="c3"></span></p><p class="c11"><span class="c3">A&iacute; sim, temos estat&iacute;stica, &aacute;lgebra e , portanto ,Machine learning desempenha um papel importante para agregar valor nesta an&aacute;lise.</span></p><p class="c2"><span class="c3"></span></p><p class="c11"><span class="c3">Como entregar valor nesta an&aacute;lise?</span></p><p class="c2"><span class="c3"></span></p><p class="c11"><span class="c3">Ao nos utilizarmos de um algoritmo de aprendizagem, no caso Random Forest (escolhido por mim e obviamente podemos ter diversos outros tipos de abordagem) podemos correlacionar historicamente o pre&ccedil;o dos ativos pretendidos com aqueles que desempenham peso fundamental no seu comportamento de pre&ccedil;o futuro e a&iacute; como n&atilde;o &eacute; poss&iacute;vel cravar o pre&ccedil;o futuro por diversos fatores que ocorrem no dia-a-dia da bolsa, inclusive de insiders que det&eacute;m informa&ccedil;&atilde;o privilegiada e influenciam o pre&ccedil;o dos pap&eacute;is nosso trabalho &eacute; feito atrav&eacute;s das m&eacute;dias m&oacute;veis de 3, 21, 50 e 200 dias. O algoritmo vai prever o pre&ccedil;o da a&ccedil;&atilde;o dia-a-dia , mas nossa an&aacute;lise de m&eacute;dias com base nas previs&otilde;es e n&atilde;o no pre&ccedil;o real &eacute; que determina o momento para investir nos ativos corretos. </span></p><p class="c2"><span class="c3"></span></p><p class="c11"><span class="c3">E como sabemos que o ativo &eacute; o correto? </span></p><p class="c2"><span class="c3"></span></p><p class="c11"><span class="c3">A resposta est&aacute; na an&aacute;lise estat&iacute;stica b&aacute;sica de uma opera&ccedil;&atilde;o na bolsa visando lucro. Quando a m&eacute;dia m&oacute;vel mais curta ultrapassa, ou seja, est&aacute; mais valorizada em rela&ccedil;&atilde;o a m&eacute;dia m&oacute;vel mais longa, significa dizer que o ativo quebrou uma importante resist&ecirc;ncia de pre&ccedil;o e, portanto, deve realizar o que chamamos de breakout, ou seja, uma explos&atilde;o positiva no seu comportamento hist&oacute;rico de pre&ccedil;o. </span></p><p class="c2"><span class="c3"></span></p><p class="c11"><span class="c3">Por que trabalhar com tantas m&eacute;dias?</span></p><p class="c2"><span class="c3"></span></p><p class="c11"><span class="c3">Por que temos tamb&eacute;m um evento muito importante chamado Golden Cross que acontece quando a m&eacute;dia de 50 dias ultrapassa a m&eacute;dia de 200 dias. Nestes casos h&aacute; uma clara tend&ecirc;ncia de alta no comportamento futuro da a&ccedil;&atilde;o objetivando per&iacute;odos mais longos. Portanto trabalhamos a m&eacute;dia de 3 e 21 dias para per&iacute;odos curtos e de 50 a 200 dias para per&iacute;odos mais longos de trade.</span></p><p class="c2"><span class="c3"></span></p><p class="c2"><span class="c3"></span></p><p class="c11"><span class="c3">E por que usar Machine Learning?</span></p><p class="c2"><span class="c3"></span></p><p class="c11"><span class="c3">Porque ao correlacionar o pre&ccedil;o de outros ativos com aquele que queremos investir podemos entender quando o pre&ccedil;o foge de seu desvio padr&atilde;o realizando um comportamento incomum ou anormal que n&atilde;o seria poss&iacute;vel identificar atrav&eacute;s de uma an&aacute;lise fundamentalista e/ou gr&aacute;fica. Com base nisto podemos prever ou mesmo afirmar de forma segura que o ativo de fato est&aacute; gerando um comportamento positivo ou negativo para investir, e respondendo a uma segunda d&uacute;vida que pode surgir ao ler este par&aacute;grafo, sim, esta solu&ccedil;&atilde;o tamb&eacute;m servir&aacute; para dizer quando devemos vender ou realizar o lucro no ativo investido. </span></p><p class="c2"><span class="c3"></span></p><p class="c2"><span class="c3"></span></p><p class="c11"><span class="c3">Diversifica&ccedil;&atilde;o</span></p><p class="c2"><span class="c3"></span></p><p class="c11"><span>Este &eacute; um problema t&atilde;o ou maior do que saber qual ativo e qual momento. N&atilde;o &eacute; poss&iacute;vel determinar simplesmente olhando o segmento, por exemplo Azul Linhas A&eacute;reas com Gol Linhas A&eacute;reas e APPLE e Microsoft que tanto as primeiras quanto as &uacute;ltimas est&atilde;o realizando o mesmo comportamento de pre&ccedil;os somente por estarem no mesmo tipo de neg&oacute;cio. Esta materia a seguir fala um pouco sobre isto o que era impensavel ha um tempo atras dizendo que as acoes de empresas de tecnologia podem ser acoes defensivas, um total contra-senso </span><span class="c26"><a class="c25" href="https://www.google.com/url?q=https://www.cnbc.com/video/2018/02/09/fang-stocks-are-defensible-stocks-analyst.html&amp;sa=D&amp;ust=1523226483087000">https://www.cnbc.com/video/2018/02/09/fang-stocks-are-defensible-stocks-analyst.html</a></span><span class="c3">&nbsp;.</span></p><p class="c2"><span class="c3"></span></p><p class="c11"><span class="c3">Portanto ao utilizarmos um algoritmo de Clusteriza&ccedil;&atilde;o fica not&oacute;rio que apenas atrav&eacute;s de Machine Learning temos esta resposta de forma a contribuir com esta importante e quase impercept&iacute;vel diferen&ccedil;a que nenhum analista poderia prever ao recomendar uma diversifica&ccedil;&atilde;o de carteira, certamente , como ainda acontece em grandes corretoras, como a Ita&uacute; Corretora que ao montar uma carteira, o &uacute;nico apelo &eacute; o segmento. Um erro crasso que custa alguns milh&otilde;es todos os dias e impede a redu&ccedil;&atilde;o de risco dos investimentos em a&ccedil;&otilde;es. </span></p><p class="c2"><span class="c3"></span></p><h3 class="c13" id="h.78n198inj3b1"><span class="c1 c4">Conjuntos de dados e entradas</span></h3><p class="c6"><span class="c0">Para calcular as informa&ccedil;&otilde;es e os resultados pretendidos os dados ser&atilde;o coletados atrav&eacute;s de uma API denominada &quot;Quandl&quot; e outra denominada Bovespa que traz os dados hist&oacute;ricos de negocia&ccedil;&otilde;es dos per&iacute;odos pretendidos (at&eacute; 12 meses no contexto desta proposta), no entanto, poder&iacute;amos se valer destes dados para treinar uma informa&ccedil;&atilde;o ao longo de um tempo maior, como, por exemplo, 5 anos. Como estamos tratando de uma informa&ccedil;&atilde;o que muda de maneira din&acirc;mica a eventos de variadas propor&ccedil;&otilde;es e o presente tem um impacto maior do que o passado, esta tese se valer&aacute; de apenas este per&iacute;odo que no contexto financeiro, traduzido para o jarg&atilde;o de bolsa de valores, iremos considerar 252 preg&otilde;es, o que , em m&eacute;dia, se refere aos dias &uacute;teis contidos em um ano de negocia&ccedil;&otilde;es. </span></p><p class="c6"><span class="c0">Os dados possuem uma din&acirc;mica bem t&iacute;pica de negocia&ccedil;&atilde;o em bolsa trazendo dados como valor do fechamento anterior, maior alta do dia, maior baixa do dia, volume negociado e pre&ccedil;o de fechamento. H&aacute; outras informa&ccedil;&otilde;es n&atilde;o menos importantes mas a princ&iacute;pio irrelevantes no estudo b&aacute;sico relativo a informa&ccedil;&atilde;o de pre&ccedil;o ex-dividendos e split que reduzem ou alteram o valor das a&ccedil;&otilde;es para traduzir um novo contexto dado o pagamento de dividendos ou a divis&atilde;o de lotes de a&ccedil;&atilde;o em 2, 3, 4 ou mais vezes para refletir um contexto de maior facilidade na movimenta&ccedil;&atilde;o do ativo uma vez que isto reduz o pre&ccedil;o da a&ccedil;&atilde;o e a torna mais &quot;barata&quot; para ser negociada de forma fracionada ou mesmo por lotes reduzidos, por exemplo, a a&ccedil;&atilde;o da Amazon tem pre&ccedil;o de mais de 1.400 d&oacute;lares enquanto as a&ccedil;&otilde;es da Apple s&atilde;o negociadas abaixo de 200 d&oacute;lares n&atilde;o implicando que uma naturalmente valha mais do que a outra, simplesmente os pap&eacute;is est&atilde;o menos dilu&iacute;dos e, portanto, possivelmente a Amazon deve realizar o split de suas a&ccedil;&otilde;es para facilitar sua negocia&ccedil;&atilde;o em bolsa em momento apropriado, como j&aacute; aconteceu com a Apple no passado recente.</span></p><p class="c6"><span class="c0">Voltando para a API a Quandl &eacute; utilizada como uma biblioteca Python que importamos e inserimos um c&oacute;digo espec&iacute;fico para acessar os dados. Estes dados s&atilde;o ent&atilde;o convertidos pela biblioteca Pandas que nos remete a um Dataframe com os dados devidamente organizados em colunas e de f&aacute;cil intera&ccedil;&atilde;o para aplicarmos os algoritmos de Machine Learning. </span></p><p class="c6"><span class="c0">E utilizaremos tamb&eacute;m a biblioteca Bovespa capaz de ler os dados hist&oacute;ricos dos ativos brasileiros em an&aacute;lise diretamente de um arquivo CSV coletado do site da Bolsa brasileira. </span></p><p class="c6"><span class="c0">Portanto a base de dados hist&oacute;rica para a quantifica&ccedil;&atilde;o, an&aacute;lise e resolu&ccedil;&atilde;o da proposta &eacute; bastante apropriado para o projeto.</span></p><p class="c6"><span class="c0">Para fins de projeto iremos avaliar a&ccedil;&otilde;es de grande volume na bolsa de valores brasileira: Vale, Petrobras, Ita&uacute;, Fibria , B3, Lojas Renner, Valid, BRF e Hering. &nbsp;A sele&ccedil;&atilde;o destes ativos se da pela aparente diversifica&ccedil;&atilde;o e pelo volume di&aacute;rio negociado ser relevante, bom para tratar c&aacute;lculos estat&iacute;sticos pois s&atilde;o negociados de forma plena na Bolsa e como temos uma economia globalizada, utilizaremos &iacute;ndices de ativos negociados no exterior que se correlacionam com os ativos brasileiros dando a din&acirc;mica em bolsa que analisamos diariamente, por vezes aos leigos sem entender sua correla&ccedil;&atilde;o mas que nas an&aacute;lises se mostram absolutamente dependentes entre si para o resultado final pretendido de antever pre&ccedil;os e tend&ecirc;ncias pautados em sua din&acirc;mica conjunta. Os &iacute;ndices estrangeiros que ser&atilde;o utilizados nos c&aacute;lculos s&atilde;o: TLT,FXE,KRE,QQQ,EWZ,FEZ,EFA,XLK,XRT,XOP,VXX,JPXN,YINN,GLD. &nbsp;Estes ativos se referem aos &iacute;ndices que combinam o pre&ccedil;o dos pap&eacute;is nos mercados externos como Dow Jones, Juros futuros do mercado americano, &iacute;ndice de a&ccedil;&otilde;es de tecnologia, o EWZ &eacute; o &iacute;ndice que capta o valor das a&ccedil;&otilde;es de empresas brasileiras e o GLD &eacute; o ouro cujo papel se valoriza em movimentos de tens&atilde;o e risco de mercado e, portanto, tem uma correla&ccedil;&atilde;o negativa e importante para se chegar ao correto valor dos ativos de empresas. Os demais &iacute;ndices se relacionam com ativos importantes como os da &Aacute;sia e mesmo dos ativos americanos (os mais negociados no mundo e cujas empresas s&atilde;o as mais valorizadas do mundo). QQQ acompanha as 100 maiores empresas listadas na Nasdaq e que tem a caracter&iacute;stica de demonstrar o apetite do mercado por risco tendo em vista seu comportamento diante das empresas de tecnologia, boa parte delas disruptivas, risco que tem forte correla&ccedil;&atilde;o com as a&ccedil;&otilde;es brasileiras que pertencem a mercados em desenvolvimento com estruturas fr&aacute;geis de analise de credito internacional. </span></p><h3 class="c13 c14" id="h.gakb56e27b91"><span class="c1 c4"></span></h3><h3 class="c13 c14" id="h.vlwebl6fxch"><span class="c1 c4"></span></h3><h3 class="c13 c14" id="h.l35idawremr5"><span class="c1 c4"></span></h3><p class="c7 c8"><span class="c3"></span></p><p class="c7 c8"><span class="c3"></span></p><p class="c7 c8"><span class="c3"></span></p><p class="c7 c8"><span class="c3"></span></p><p class="c7 c8"><span class="c3"></span></p><p class="c7 c8"><span class="c3"></span></p><p class="c7 c8"><span class="c3"></span></p><p class="c7 c8"><span class="c3"></span></p><h3 class="c13" id="h.vsoyvx23z7lq"><span class="c1 c4">Descri&ccedil;&atilde;o da solu&ccedil;&atilde;o</span></h3><p class="c7 c8"><span class="c3"></span></p><p class="c11"><span class="c3">Para ficar ainda mais l&uacute;cida a solu&ccedil;&atilde;o, vamos dividir o problema em 2 partes como acima descrito.</span></p><p class="c2"><span class="c3"></span></p><p class="c11"><span class="c3">Para determinar o &#39;momentum&#39;&rsquo;e, portanto, resolver a primeira pergunta &nbsp;abaixo descrevo:</span></p><p class="c2"><span class="c3"></span></p><p class="c11"><span class="c3">Com base na API Quandl e na biblioteca Bovespa selecionamos o per&iacute;odo de 252 preg&otilde;es , capacitados nas bibliotecas realizando a solicita&ccedil;&atilde;o com a seguinte linha de c&oacute;digo :</span></p><p class="c2"><span class="c3"></span></p><p class="c11"><span class="c3">&nbsp;optimization = quandl.get(stocks,rows = 252, header=False)</span></p><p class="c2"><span class="c3"></span></p><p class="c11"><span class="c3">A leitura hist&oacute;rica dos ativos listados no Brasil vir&aacute; atrav&eacute;s de um arquivo CSV lido na referida biblioteca Bovespa onde temos algum trabalho adicional nesta base visto n&atilde;o vir por interm&eacute;dio simples de uma API. &nbsp;(2 etapas)</span></p><p class="c2"><span class="c3"></span></p><p class="c11"><span class="c3">Exemplo, extraindo informa&ccedil;&otilde;es do ativo Valid:</span></p><p class="c2"><span class="c3"></span></p><p class="c11"><span class="c3">for rec in bf.query(stock=&#39;VLID3&#39;):</span></p><p class="c2"><span class="c3"></span></p><p class="c11"><span class="c3">vlid = [ ]</span></p><p class="c2"><span class="c3"></span></p><p class="c11"><span class="c3">vlid=(rec.stock_code,rec.date,rec.price_open,rec.price_high,rec.price_low,rec.price_close,rec.volume)</span></p><p class="c11"><span class="c3">&nbsp; &nbsp; VLID.append(vlid)</span></p><p class="c2"><span class="c3"></span></p><p class="c2"><span class="c3"></span></p><p class="c11"><span class="c3">Os ativos selecionados t&ecirc;m a facilidade de serem negociados fartamente, ou seja, todos os dias, nao havendo datas com quebra de dados, no entanto, como estamos utilizando a regress&atilde;o com ativos negociados no exterior existem datas que h&aacute; negocia&ccedil;&atilde;o no exterior e n&atilde;o h&aacute; no Brasil e vice-versa (por exemplo, feriados) , portanto, para que possamos homogeneizar as an&aacute;lises tais eventos ser&atilde;o tratados atrav&eacute;s do c&oacute;digo abaixo:</span></p><p class="c2"><span class="c3"></span></p><p class="c2"><span class="c3"></span></p><p class="c11"><span class="c3">optimization.fillna(method=&#39;ffill&#39;, inplace=True)</span></p><p class="c2"><span class="c3"></span></p><p class="c2"><span class="c3"></span></p><p class="c11"><span class="c3">Desta forma iremos atribuir a &uacute;ltima negocia&ccedil;&atilde;o v&aacute;lida como o valor de entrada para as datas onde aquele ativo n&atilde;o foi negociado e assim gerar os c&aacute;lculos. Importante destacar que esses eventos n&atilde;o corroboram de forma importante no valor m&eacute;dio dos ativos (nosso target da proposta) tendo em vista que aplicamos sempre o valor m&eacute;dio de 3 preg&otilde;es e n&atilde;o existe a hip&oacute;tese dentro da an&aacute;lise realizada de termos 3 datas sem negocia&ccedil;&atilde;o e mesmo que isto ocorresse estamos sempre tratando o valor mais perfeito conhecido at&eacute; aquele instante. O &uacute;nico momento do ano em que isto gera algum impacto de curt&iacute;ssimo prazo &eacute; no Carnaval brasileiro, onde temos 2 dias sem negocia&ccedil;&atilde;o no Brasil e o mundo continua negociando normalmente. Como um dos ativos que se correlacionam &eacute; o &iacute;ndice EWZ que mede o valor das empresas brasileiras e tal &iacute;ndice &eacute; negociado normalmente nas datas onde o Brasil n&atilde;o opera, o efeito &eacute; ainda mais marginal na determina&ccedil;&atilde;o de pre&ccedil;o justo. </span></p><p class="c2"><span class="c3"></span></p><p class="c2"><span class="c3"></span></p><p class="c11"><span class="c3">Ao extrair os dados e a fim de termos uma base de treinamento e teste consistentes utilizamos a seguinte importacao pelo sklearn:</span></p><p class="c2"><span class="c3"></span></p><p class="c2"><span class="c3"></span></p><p class="c11"><span class="c3">from sklearn.utils import shuffle</span></p><p class="c2"><span class="c3"></span></p><p class="c2"><span class="c3"></span></p><p class="c11"><span class="c3">Isto tamb&eacute;m &eacute; positivo pois segregamos de forma segura os dados treinados dos dados testados, n&atilde;o cometendo um dos erros capitais no processo de modelagem e previs&atilde;o de dados, uma vez que treinar e testar o mesmo dado n&atilde;o nos traria nenhuma convic&ccedil;&atilde;o sobre a qualidade do modelo. Outro ponto importante &eacute; que atrav&eacute;s desta biblioteca podemos treinar per&iacute;odos aleat&oacute;rios, eliminado o v&iacute;cio de um per&iacute;odo predeterminado. &nbsp;</span></p><p class="c2"><span class="c3"></span></p><p class="c11"><span class="c3">X, y = shuffle(X, y, random_state=23)</span></p><p class="c2"><span class="c3"></span></p><p class="c11"><span class="c3">Utilizamos o random_state para termos controle sobre o resultado atingido.</span></p><p class="c2"><span class="c3"></span></p><p class="c11"><span class="c3">Por fim poderemos finalizar a base de dados e realizar as previs&otilde;es que ser&atilde;o trabalhadas conforme o descritivo das m&eacute;dias e demais procedimentos:</span></p><p class="c2"><span class="c3"></span></p><p class="c11"><span class="c3">&nbsp;rf_regressor.fit(X_train, y_train)</span></p><p class="c11"><span class="c3">&nbsp; y_pred = rf_regressor.predict(X_test) </span></p><p class="c2"><span class="c3"></span></p><p class="c2"><span class="c3"></span></p><p class="c11"><span class="c3">&nbsp;E finalmente realizaremos as valida&ccedil;&otilde;es de SME e EVS e assim asseguramos que o resultado tem capacidade de entregar valor nas an&aacute;lises auferidas trabalhando e confiando em an&aacute;lises com SME menor do que 1 e onde haja uma base razo&aacute;vel de explica&ccedil;&atilde;o as varia&ccedil;&otilde;es dos resultados atingidos. </span></p><p class="c2"><span class="c3"></span></p><p class="c11"><span class="c3">Com a previs&atilde;o em n&iacute;veis satisfat&oacute;rios teremos a determina&ccedil;&atilde;o dos pr&oacute;ximos passos no trade ap&oacute;s realizar a m&eacute;dia &nbsp;no contexto acima exposto, seja determinar a compra, seja manter o ativo j&aacute; comprado ou mesmo vender o ativo com base no lucro auferido ou no stop loss da opera&ccedil;&atilde;o realizada. </span></p><p class="c7 c8"><span class="c3"></span></p><p class="c2"><span class="c3"></span></p><p class="c7 c8"><span class="c3"></span></p><p class="c7 c8"><span class="c3"></span></p><p class="c11"><span class="c3">E, por fim, embora de conceitua&ccedil;&atilde;o mais simples , mas n&atilde;o menos importante nossa solu&ccedil;&atilde;o visa eliminar a falta de diversifica&ccedil;&atilde;o efetiva e utiliza a t&eacute;cnica de clustering para proporcionar seguran&ccedil;a nesta resposta. Sendo assim iniciamos agora a solu&ccedil;&atilde;o do segundo problema.</span></p><p class="c2"><span class="c3"></span></p><p class="c2"><span class="c3"></span></p><p class="c11"><span class="c3">Em decorr&ecirc;ncia da an&aacute;lise utilizaremos a biblioteca Bovespa para gerar os dados hist&oacute;ricos em uma tabela organizada. Os mesmos atributos de preencher dados faltantes s&atilde;o associados ao c&oacute;digo e assim gerarmos uma base consistente.</span></p><p class="c2"><span class="c3"></span></p><p class="c2"><span class="c3"></span></p><p class="c11"><span class="c3">Importaremos na nossa solu&ccedil;&atilde;o as seguintes bibliotecas</span></p><p class="c2"><span class="c3"></span></p><p class="c11"><span class="c3">import bovespa</span></p><p class="c11"><span class="c3">import pandas as pd</span></p><p class="c11"><span class="c3">import numpy as np</span></p><p class="c11"><span class="c3">import matplotlib.pyplot as plt</span></p><p class="c11"><span class="c3">from sklearn import covariance, cluster</span></p><p class="c11"><span class="c3">from datetime import datetime</span></p><p class="c11"><span class="c3">import numpy as np</span></p><p class="c2"><span class="c3"></span></p><p class="c2"><span class="c3"></span></p><p class="c11"><span class="c3">Os dados importados ser&atilde;o agrupados em seus valores de abertura e fechamento di&aacute;rio para que a partir destes tenhamos uma an&aacute;lise de seus pre&ccedil;os no per&iacute;odo (252 preg&otilde;es) e atribu&iacute;das a estes os referidos clusters com base no comportamento de pre&ccedil;os. Sendo assim tal contexto refletir&aacute; numa tabela que acondiciona cada a&ccedil;&atilde;o analisada em uma classe de ativo determinando portanto, a real diversifica&ccedil;&atilde;o. O interessante nesta an&aacute;lise &eacute; que &eacute; poss&iacute;vel verificar, de fato, ativos do mesmo segmento performando dentro do mesmo cluster com muita regularidade mas fica not&oacute;rio que isto nem sempre &eacute; verdade e &eacute; a&iacute; que passamos a dar maior seguran&ccedil;a ao investidor. &nbsp;Outro aspecto interessante &nbsp;&eacute; que a sensibilidade matem&aacute;tica e estat&iacute;stica do modelo tamb&eacute;m demonstra que o mesmo ativo numa carteira A tem caracter&iacute;sticas diferentes quando adicionado numa carteira B devido aos aspectos de padr&otilde;es de comportamento que jamais seriam percebidos numa an&aacute;lise simples ou a olho nu de um especialista do mercado, ou seja o modelo &eacute; sens&iacute;vel a desvios de comportamento que seriam facilmente generalizados por qualquer analista financeiro mesmo experiente.</span></p><p class="c2"><span class="c3"></span></p><p class="c7 c8"><span class="c3"></span></p><p class="c7 c8"><span class="c3"></span></p><p class="c7 c8"><span class="c3"></span></p><p class="c7 c8"><span class="c3"></span></p><p class="c7 c8"><span class="c3"></span></p><p class="c7 c8"><span class="c3"></span></p><p class="c7 c8"><span class="c3"></span></p><p class="c7 c8"><span class="c3"></span></p><p class="c7 c8"><span class="c3"></span></p><h3 class="c13 c19" id="h.zhtyiqqudiar"><span class="c1 c4">Modelo de refer&ecirc;ncia (benchmark)</span></h3><p class="c6"><span class="c0">Esse mercado que acompanha a solu&ccedil;&atilde;o proposta &eacute; vastamente explorado de diversas formas, no Brasil, normalmente, de forma elitizada ou com uma linguagem dif&iacute;cil que mais distancia do que aproxima pessoas comuns ao investimento em Bolsa. De forma generalizada podemos entender que a an&aacute;lise gr&aacute;fica composto por indicadores como Candle, OBV, M&eacute;dias M&oacute;veis e desvio padr&atilde;o traduzem o contexto com o qual nossa proposta se relaciona para que se possa medir sua assertividade e acur&aacute;cia. Os canais de refer&ecirc;ncia no Brasil para o contexto da proposta s&atilde;o raros ou praticamente inexistentes, podemos citar a Cedro que est&aacute; engatinhando em solu&ccedil;&otilde;es para traders experientes e pouco representativa ao mercado em geral. Seus softwares s&atilde;o complexos para baixar e testar, eu mesmo fui desviado da possibilidade de an&aacute;lise em fun&ccedil;&atilde;o da plataforma utilizar Windows exclusivamente, portanto ao mesmo tempo elitizante e com baixas alternativas de qualidade ao usu&aacute;rio. Nos EUA, como comentado acima temos uma empresa que trabalha com essas premissas de forma direta chamada Vantage Point que logo na tela inicial do site promete 86% de acur&aacute;cia na previs&atilde;o do comportamento de curto, m&eacute;dio e longo prazo dos ativos, n&atilde;o &nbsp;&eacute; irrestrito, ou seja, pelo estudo que eu fiz eles n&atilde;o desbravam todos os ativos listados em bolsa, apenas aqueles de maior representatividade, vejo que isto dada a possibilidade dos c&aacute;lculos estat&iacute;sticos encontrarem menores desvios face volumes baixos de negocia&ccedil;&atilde;o esconderem os valores reais e o potencial de algumas negocia&ccedil;&otilde;es, aumentando a incerteza e , portanto, em modelos como Regress&atilde;o Linear, aparentemente muito utilizados por eles, conter um MSE muito alto que tornaria quase um cassino a maior parte das conclus&otilde;es em torno de boa parte de a&ccedil;&otilde;es negociadas, no entanto, como benchmarking eu os vejo como a &uacute;nica solu&ccedil;&atilde;o 90% pass&iacute;vel de compara&ccedil;&atilde;o com a minha proposta, visto que eles tamb&eacute;m tentam compreender os movimentos de tend&ecirc;ncia futura e de curt&iacute;ssimo prazo. </span></p><p class="c6"><span class="c0">No meu caso especificamente irei me pautar na avalia&ccedil;&atilde;o da performance em alinhamento com o comportamento real dos pre&ccedil;os, assim o gr&aacute;fico abaixo elucida corretamente como o trabalho dever&aacute; se pautar para considerar como efetivos os resultados a serem perseguidos:</span></p><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 602.00px; height: 342.67px;"><img alt="" src="{% static "images/image4.png" %}" style="width: 602.00px; height: 342.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c6 c8"><span class="c0"></span></p><h3 class="c13" id="h.3yt371w24uwf"><span class="c4 c17">Acima, na linha vermelha vemos a m&eacute;dia m&oacute;vel de 21 dias relativo aos pre&ccedil;os reais dos ativos em an&aacute;lise. A linha verde representa a m&eacute;dia de 3 dias que quando acima da m&eacute;dia de 21 dias demonstra a determina&ccedil;&atilde;o dos pre&ccedil;os em busca de suas m&aacute;ximas, sendo o oposto a retomada de um ciclo de baixa como pode ser observado no per&iacute;odo de 01-02 a 15-02 e a linha azul demonstra o pre&ccedil;o do ativo.</span></h3><h3 class="c13 c14" id="h.enzu248fd7aj"><span class="c1 c4"></span></h3><p class="c7 c8"><span class="c3"></span></p><h3 class="c13 c19" id="h.afx4djehjg67"><span class="c1 c4">M&eacute;tricas de avalia&ccedil;&atilde;o</span></h3><p class="c6"><span class="c0">O modelo da proposta se pauta na capacidade de identificar tend&ecirc;ncias de negocia&ccedil;&atilde;o em prazos curtos, m&eacute;dios e longos, portanto a principal m&eacute;trica de avalia&ccedil;&atilde;o do modelo se pauta no Backtesting da previs&atilde;o pretendida e a an&aacute;lise dos movimentos de curto prazo subsequentes. O que se pretende aqui &eacute; trazer uma seguran&ccedil;a relativa para o investimento, resultando em indicadores que demonstram com clareza a capacidade do modelo equilibrar a rela&ccedil;&atilde;o risco/retorno com o conforto de entender os movimentos atuais e futuros capitalizando com acuracidade os comportamentos dos ativos em an&aacute;lise. </span></p><p class="c6 c8"><span class="c0"></span></p><p class="c6"><span class="c0">Portanto a m&eacute;trica de an&aacute;lise &eacute; objetiva: risco X retorno pretendido X retorno real atingido .</span></p><p class="c6"><span class="c0">A evidencia&ccedil;&atilde;o de que h&aacute; um contexto compar&aacute;vel para avaliar o resultado da estrat&eacute;gia de compra e manuten&ccedil;&atilde;o dos ativos se dar&aacute; por uma t&eacute;cnica muito utilizada em trading denominada backtesting, ou seja, atrav&eacute;s dos dados passados retrocedemos com a nossa estrat&eacute;gia e comparamos com o resultado real do per&iacute;odo em an&aacute;lise, por exemplo a tabela abaixo:</span></p><p class="c6 c8"><span class="c0"></span></p><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 599.00px; height: 362.00px;"><img alt="" src="{% static "images/image2.png" %}" style="width: 599.00px; height: 362.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c6 c8"><span class="c0"></span></p><p class="c6"><span class="c0">Neste exemplo acima verificamos que a estrat&eacute;gia de ficar comprado quando a m&eacute;dia m&oacute;vel de 3 dias fica acima da m&eacute;dia m&oacute;vel de 21 dias demonstra nitidamente em compara&ccedil;&atilde;o com o pre&ccedil;o real do ativo (gr&aacute;fico em azul) que nos momentos de maior estresse de pre&ccedil;o a estrat&eacute;gia foi sair do ativo e quando o ativo retomou a for&ccedil;a compradora o gr&aacute;fico abaixo (verde) demonstra que a estrat&eacute;gia seria se manter comprado. (-1 vender e +1 comprar)</span></p><p class="c6"><span class="c0">Portanto o Random Forest &eacute; utilizado para antever tais movimentos e &ldquo;entrar&rdquo; no papel antes que o breakout (quebra de resist&ecirc;ncia de pre&ccedil;o) ocorra e assim maximizar os ganhos acertando os melhores momentos do investimento acontecer. Como m&eacute;tricas de assertividade iremos utilizar EVS e MSE para que possamos ter algum controle sobre a assertividade do Random na determina&ccedil;&atilde;o da estrat&eacute;gia, sendo v&aacute;lida quando o MSE for inferior a 1. </span></p><p class="c6 c8"><span class="c0"></span></p><p class="c6"><span class="c0">Para fins de utiliza&ccedil;&atilde;o do algoritmo de cluster o objetivo fica mais vis&iacute;vel pelos gr&aacute;ficos abaixo:</span></p><p class="c6 c8"><span class="c0"></span></p><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 367.00px; height: 247.00px;"><img alt="" src="{% static "images/image3.png" %}" style="width: 367.00px; height: 247.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c6 c8"><span class="c0"></span></p><p class="c6"><span class="c0">Acima o comportamento de pre&ccedil;os de uma poss&iacute;vel carteira sem a clusteriza&ccedil;&atilde;o.</span></p><p class="c6 c8"><span class="c0"></span></p><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 367.00px; height: 247.00px;"><img alt="" src="{% static "images/image1.png" %}" style="width: 367.00px; height: 247.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c6"><span class="c0">Agora, depois de utilizar o Gaussian k Means podemos notar o trabalho do algoritmo na obten&ccedil;&atilde;o da interpreta&ccedil;&atilde;o da diversifica&ccedil;&atilde;o real dos ativos pretendidos. &nbsp;</span></p><p class="c6"><span class="c0">Por fim recebemos de volta uma tabela com a real representa&ccedil;&atilde;o da poss&iacute;vel carteira:</span></p><p class="c6"><span class="c9 c4">Cluster Ativo</span></p><p class="c6"><span class="c9 c4">1 -&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pgr, dis, ibm</span></p><p class="c6"><span class="c9 c4">2- &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cboe</span></p><p class="c6"><span class="c9 c4">3 -&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; erj</span></p><p class="c6"><span class="c9 c4">Ou seja, o que pareciam ser 5 ativos para se investir quando avaliados por seu comportamento passado obtemos que investir em PGR ou DIS ou IBM na realidade seria investir no mesmo ativo, portanto a melhor estrat&eacute;gia aqui seria avaliar por outra m&eacute;trica o que os diferencia, por exemplo Sharpe Ratio acima exemplificado e investir em apenas um dos tr&ecirc;s que ficaram sob o mesmo cluster.</span></p><p class="c6"><span class="c4 c9">Os ativos dos clusters 2 e 3 representam realmente ativos com caracter&iacute;sticas distintas e, sim, podem ser excelentes pap&eacute;is para diversificar e compor uma carteira de a&ccedil;&otilde;es depois de passarem pelo crivo da resist&ecirc;ncia de pre&ccedil;o acima exemplificada. </span></p><p class="c6"><span class="c24">Perceba tamb&eacute;m que somente atrav&eacute;s da utiliza&ccedil;&atilde;o de Machine Learning podemos averiguar isto pois no Cluster 1 temos Disney, IBM e Progressive Corporation, esta &uacute;ltima uma empresa de seguros, portanto, 3 segmentos completamente distintos com comportamentos equivalentes ou pr&oacute;ximos que numa an&aacute;lise inicial jamais poderia-se concluir tamanha similaridade em termos de padr&atilde;o de comportamento de pre&ccedil;os. &nbsp;</span></p><p class="c6 c8"><span class="c0"></span></p><p class="c6 c8"><span class="c0"></span></p><p class="c6 c8"><span class="c0"></span></p><p class="c6 c8"><span class="c0"></span></p><p class="c6 c8"><span class="c0"></span></p><p class="c6 c8"><span class="c0"></span></p><p class="c6 c8"><span class="c0"></span></p><p class="c6 c8"><span class="c0"></span></p><p class="c6 c8"><span class="c0"></span></p><p class="c6 c8"><span class="c0"></span></p><p class="c6 c8"><span class="c0"></span></p><p class="c6 c8"><span class="c0"></span></p><p class="c6 c8"><span class="c0"></span></p><p class="c6"><span class="c1 c4">Design do projeto</span></p><p class="c6 c8"><span class="c1 c4"></span></p><p class="c6"><span class="c1">Problema 1</span></p><ul class="c20 lst-kix_gtx7ktx8b1np-0 start"><li class="c15"><span class="c4 c5 c10">A base temporal (252 preg&otilde;es) vir&aacute; atrav&eacute;s da API Quandl para os ativos internacionais e de uma biblioteca denominada Bovespa para ler as informa&ccedil;&otilde;es hist&oacute;ricas de pre&ccedil;os dos ativos brasileiros</span></li><li class="c15"><span class="c4 c5 c10">Os dados ser&atilde;o tratados para homogeneizar as an&aacute;lises e eliminar s&eacute;ries com menos dados em fun&ccedil;&atilde;o da diferen&ccedil;a de calend&aacute;rio Brasil e EUA</span></li><li class="c15"><span class="c4 c5 c10">Utilizaremos o shuffle para que os dados possam ser treinados e testados de forma aleat&oacute;ria e eficiente, sendo uma base de 90% para o treinamento e 10% para o teste</span></li><li class="c15"><span class="c4 c5 c10">Os ativos utilizados como base para a correla&ccedil;&atilde;o (X) com o investimento pretendido ser&atilde;o segregados do ativo objeto de an&aacute;lisis (Y)</span></li><li class="c15"><span class="c4 c5 c10">Por fim iremos organizar os dados e realizar a previs&atilde;o dia-a-dia</span></li><li class="c15"><span class="c4 c5 c10">Aos dados previstos atribu&iacute;mos os scores necess&aacute;rios para se positivar ou negativar os resultados atingidos</span></li><li class="c15"><span class="c4 c5 c10">Os pre&ccedil;os previstos ser&atilde;o predispostos em agrupamentos de m&eacute;dias m&oacute;veis de 3, 21, 50 e 200 dias onde o comportamento previsto trar&aacute; o sinal pretendido , seja compra, venda ou manuten&ccedil;&atilde;o .</span></li></ul><p class="c6 c8"><span class="c0"></span></p><p class="c6"><span class="c1 c4">Problema 2</span></p><ul class="c20 lst-kix_gtx7ktx8b1np-0"><li class="c15"><span class="c4 c5 c10">A base temporal (252 preg&otilde;es) vir&aacute; atrav&eacute;s da biblioteca bovespa</span></li><li class="c15"><span class="c5">Os dados ser&atilde;o tratados eliminando poss&iacute;veis informa&ccedil;&otilde;es</span><span class="c4 c5 c10">&nbsp;descontinuadas</span></li><li class="c15"><span class="c4 c5 c10">Os valores de fechamento de cada preg&atilde;o ser&atilde;o ent&atilde;o diminu&iacute;dos dos valores de abertura e para garantir dados normalizados faremos uso da biblioteca Numpy</span></li><li class="c15"><span class="c4 c5 c10">Por fim identificamos o desvio padr&atilde;o deste comportamento di&aacute;rio de pre&ccedil;os </span></li><li class="c15"><span class="c5">Com base no comportamento de pre&ccedil;os determinaremos a que classe de ativo cada um pertence e ,portanto, criar uma diversifica&ccedil;&atilde;o eficiente</span></li></ul><p class="c6 c8"><span class="c1 c4"></span></p></body></html>
