{% extends 'base.html' %}

{% block content %}

<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>A solução</title>
    <img src="data:image/jpeg;base64,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" height="420" width="420" >

  </head>
  <body>
    <td class=xl78 style='border-top:none'>{{df}}</td>
  </body>
</html>
<h1>Step by step</h1>

<h3>As bibliotecas para prever a recomendaçao de ativos</h3>


<p>from sklearn.ensemble import RandomForestRegressor
  <br>
from sklearn import preprocessing
<br>
from sklearn.metrics import mean_squared_error, explained_variance_score
<br>
from sklearn.utils import shuffle
<br>
from sklearn import ensemble
<br>
from .forms import InputForm
<br>
from pandas_datareader import data as web</p>
<br>

<h5>Inicialmente pensei em utilizar Quandl e outra biblioteca denominada Bovespa mas para garantir utilizacao total do codigo sem restricoes de papéis(ativos) acabei optando pelo Yahoo Reader atraves da biblioteca Pandas.</h5>
<br>
<h5>Outra alteracao foi na quantidade de ativos para realizar a correlacao de Preços, anteriormente na proposta formal havia considerado muitos indices de papeis mas depois de diversos testes ficou claro que apenas este conjunto de ativos(indices) tem aderencia ao projeto <strong> ['QQQ','EWZ','VXX','GLD','^BVSP']</strong></h5>
<br>
<p>Como o Yahoo é uma biblioteca gratuita por vezes o calculo retorna com erro, nestes casos eu criei uma pagina informando o evento indesejado, bastante aguardar 2 minutos para conseguir o resultado perfeito. O MSE volta com um erro muito alto (muito acima de 1) quando o Yahoo Reader nao conseguiu ler os dados com acuracidade, neste caso melhor tentar novamente. Este problema normalmente ocorre durante o periodo de negociacao dos papeis na bolsa. Apos o <strong>expediente da bolsa raramente ocorre o problema</strong>. Eu poderia optar simplesmente por nao utilizar o codigo vivo, extraindo informacoes apenas historicas, mas eu quis tornar a experiencia o mais real possivel. </p>
{% endblock %}
